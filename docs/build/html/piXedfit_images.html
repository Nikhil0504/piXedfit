

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>piXedfit_images &mdash; piXedfit 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="piXedfit_spectrophotometric" href="piXedfit_spectrophotometric.html" />
    <link rel="prev" title="SED fitting" href="demos_sed_fitting.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> piXedfit
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="manage_filters.html">Managing filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="list_imaging_data.html">List of imaging data</a></li>
<li class="toctree-l1"><a class="reference internal" href="list_kernels_psf.html">Convolution kernels and PSFs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ingredients_model.html">SED modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="gen_model_SEDs.html">Generating model SEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="image_pros.html">Image processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="image_ifs_match.html">Spatial and Spectral Matching of imaging and IFS data</a></li>
<li class="toctree-l1"><a class="reference internal" href="pixel_binning.html">Pixel binning</a></li>
<li class="toctree-l1"><a class="reference internal" href="fit_ing_SEDs.html">Fitting individual SED</a></li>
<li class="toctree-l1"><a class="reference internal" href="fit_res_SEDs.html">Fitting spatially resolved SEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot_fitres.html">Analyzing fitting results</a></li>
<li class="toctree-l1"><a class="reference internal" href="get_maps_prop.html">Get maps of spatially resolved properties</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">Demonstrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="demos_pixel_binning.html">Pixel binning</a></li>
<li class="toctree-l1"><a class="reference internal" href="demos_sed_fitting.html">SED fitting</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">piXedfit_images</a></li>
<li class="toctree-l1"><a class="reference internal" href="piXedfit_spectrophotometric.html">piXedfit_spectrophotometric</a></li>
<li class="toctree-l1"><a class="reference internal" href="piXedfit_bin.html">piXedfit_bin</a></li>
<li class="toctree-l1"><a class="reference internal" href="piXedfit_model.html">piXedfit_model</a></li>
<li class="toctree-l1"><a class="reference internal" href="piXedfit_fitting.html">piXedfit_fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="piXedfit_analysis.html">piXedfit_analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">piXedfit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>piXedfit_images</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/piXedfit_images.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-piXedfit.piXedfit_images">
<span id="pixedfit-images"></span><span id="api-images"></span><h1>piXedfit_images<a class="headerlink" href="#module-piXedfit.piXedfit_images" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="piXedfit.piXedfit_images.images_processing">
<em class="property">class </em><code class="descclassname">piXedfit.piXedfit_images.</code><code class="descname">images_processing</code><span class="sig-paren">(</span><em>filters, sci_img, var_img, gal_ra, gal_dec, img_unit=None, img_scale=None, img_pixsizes=None, flag_psfmatch=0, flag_reproject=0, flag_crop=0, kernels=None, gal_z=None, stamp_size=[101, 101], remove_files=True</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.images_processing" title="Permalink to this definition">¶</a></dt>
<dd><p>A Python class for processing multiband imaging data and producing a data cube containing maps of multiband fluxes that are matched in spatial resolution and sampling.
The image processing basically includes the PSF matching to homogenize the spatial resolution of the multiband imaging data and spatial resampling and reprojection
to homogenize the spatial sampling (i.e., pixel size) and spatil reprojection of the mulltiband imaging data.
A list of imaging data sets that can be handled automatically by this class in the current version of piXedfit can be seen at <a class="reference internal" href="list_imaging_data.html#list-imagingdata"><span class="std std-ref">List of imaging data</span></a>.
However, one need to download convolution kernels from <a class="reference external" href="https://drive.google.com/drive/folders/1pTRASNKLuckkY8_sl8WYeZ62COvcBtGn?usp=sharing">this link</a> and
put those inside data/kernels/ within the piXedfit directory ($PIXEDFIT_HOME/data/kernels). These kernels are not included in the piXedfit repository because of the large file sizes.
This class can also handle other imaging data. For this, one need to provide kernels for PSF matching.
These kernel images should have the same pixel size as the corresponding input images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filters</strong> – List of photometric filters names. To check the filters currently available and manage them (e.g., adding new ones) please see <a class="reference external" href="https://pixedfit.readthedocs.io/en/latest/manage_filters.html">this page</a>.
For this input, it is not mandatory to make the input filters in a wavelength order.</li>
<li><strong>sci_img</strong> – Dictionary containing names of the science images. An example of input: sci_img={‘sdss_u’:’img1.fits’, ‘sdss_g’:’img2.fits’}</li>
<li><strong>var_img</strong> – Dictionary containing names of the variance images. It has a similar format to sci_img.</li>
<li><strong>gal_ra</strong> – Right Ascension (RA) coordinate of the target galaxy. This should be in degree.</li>
<li><strong>gal_dec</strong> – Declination (DEC) coordinate of the target galaxy. This should be in degree.</li>
<li><strong>img_unit</strong> – (optional)
Unit of pixel value in the multiband images. The acceptable format of this input is a python dictionary, similar to that of sci_img. This input is optional.
This input will only be considered (and required) if the input images are not among the default list of recognized imaging data
in piXedfit (i.e. GALEX, SDSS, 2MASS, WISE, Spitzer, and Herschel).
The allowed units are: (1)”erg/s/cm2/A”, (2) “Jy”, and (3) “MJy/sr”.</li>
<li><strong>img_scale</strong> – (optional)
Scale of the pixel value with respect to the unit in img_unit. For instance, if image is in unit of MJy,
the img_unit can be set to be “Jy” and img_scale is set to be 1e+6. This input is only relevant if the input images are not among the default list of recognized images
in piXedfit. The format of this input should be in python dictionary, similar to sci_img.</li>
<li><strong>img_pixsizes</strong> – (optional)
Pixel sizes (in arcsecond) of the input imaging data. This input should be in dictionary format, similar to sci_img.
If not provided, pixel size will be calculated based on the WCS information in the header of the FITS file.</li>
<li><strong>flag_psfmatch</strong> – (optional)
Flag stating whether the multiband imaging data have been PSF-matched or not. The options are: (1) 0 means hasn’t been PSF-matched, and (2)1 means has been PSF-matched.</li>
<li><strong>flag_reproject</strong> – (optional)
Flag stating whether the multiband imaging data have been spatially-resampled and matched in the projection. The options are: (1)0 means not yet, and (2)1 means has been carried out.</li>
<li><strong>flag_crop</strong> – (optional)
Flag stating whether the multiband imaging data have been cropped around the target galaxy. The options are: (1)0 means not yet, and (2)1 means has been cropped.
If flag_crop=0, cropping will be done according to the input stamp_size. If flag_crop=1, cropping will not be done.</li>
<li><strong>kernels</strong> – (optional)
Dictionary containing names of FITS files for the kernels to be used for the PSF matching process.
If None, internal convolution kernels in piXedfit will be used, given that the imaging data is recognized by piXedfit.
Otherwise, input kernels should be supplied.
If external kerenels are avaiable, the kernel images should have the same pixel size as the corresponding input images and
the this input should be in a dictionary format, which is similar to the input sci_img,
but the number of element should be Nb-1, where Nb is the number of photometric bands.</li>
<li><strong>gal_z</strong> – Galaxy’s redshift. This information will not be used in the image processing and only intended to be saved in the heder of a produced FITS file.</li>
<li><strong>stamp_size</strong> – Desired size for the reduced maps of multiband fluxes. This is a list data type with 2 elements. Accepted struture is: [dim_y,dim_x]. Only relevant if flag_crop=0.</li>
<li><strong>remove_files</strong> – If True, the unnecessary image files produced during the image processing will be removed. This can save disk space. If False, those files will not be removed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="piXedfit.piXedfit_images.images_processing.flux_map">
<code class="descname">flux_map</code><span class="sig-paren">(</span><em>output_stamps</em>, <em>gal_region</em>, <em>Gal_EBV=None</em>, <em>scale_unit=1e-17</em>, <em>mag_zp_2mass=None</em>, <em>unit_spire='Jy_per_beam'</em>, <em>name_out_fits=None</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.images_processing.flux_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for calculating maps of multiband fluxes from the stamp images produced by the <a class="reference internal" href="#piXedfit.piXedfit_images.images_processing.reduced_stamps" title="piXedfit.piXedfit_images.images_processing.reduced_stamps"><code class="xref py py-func docutils literal notranslate"><span class="pre">reduced_stamps()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>output_stamps</strong> – Dictionary containing reduced multiband images produced by the <a class="reference internal" href="#piXedfit.piXedfit_images.images_processing.reduced_stamps" title="piXedfit.piXedfit_images.images_processing.reduced_stamps"><code class="xref py py-func docutils literal notranslate"><span class="pre">reduced_stamps()</span></code></a> function.</li>
<li><strong>gal_region</strong> – A 2D array containing the galaxy’s region of interest. It is preferably the output of the <code class="xref py py-func docutils literal notranslate"><span class="pre">gal_region()</span></code>, but one can also
make this input region. The 2D array should has the same size as that of the output stamps and the pixel value is 1 for
the galaxy’s region and 0 otherwise.</li>
<li><strong>Gal_EBV</strong> – The E(B-V) dust attenuation due to the foreground Galactic dust. This is optional parameter.
If None, this value will be retrive from the IRSA data server through the <a class="reference external" href="https://astroquery.readthedocs.io/en/latest/">astroquery</a> package.</li>
<li><strong>scale_unit</strong> – Normalized unit for the fluxes in the output fits file. The unit is flux density in erg/s/cm^2/Ang.</li>
<li><strong>mag_zp_2mass</strong> – Magnitude zero-points of 2MASS images. Shoud be in 1D array with three elements: [magzp-j,magzp-h,magzp-k]. This is optional parameter.
If not given (i.e. None), the values will be taken from the header of the FITS files.</li>
<li><strong>unit_spire</strong> – Unit of SPIRE images, in case Herschel/SPIRE image is included in the analysis. Therefore, this input is only relevant if Herschel/SPIRE image is among the images that are analyzed.
Options are: [‘Jy_per_beam’, ‘MJy_per_sr’, ‘Jy_per_pixel’]</li>
<li><strong>name_out_fits</strong> – Desired name for the output FITS file. If None, a default name will be adopted.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="piXedfit.piXedfit_images.images_processing.galaxy_region">
<code class="descname">galaxy_region</code><span class="sig-paren">(</span><em>segm_maps=None</em>, <em>use_ellipse=False</em>, <em>x_cent=None</em>, <em>y_cent=None</em>, <em>ell=0</em>, <em>pa=45.0</em>, <em>radius_sma=30.0</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.images_processing.galaxy_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Define galaxy’s region of interest for further analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>segm_maps</strong> – Input segmentation maps, which are output of the <a class="reference internal" href="#piXedfit.piXedfit_images.images_processing.segmentation_sep" title="piXedfit.piXedfit_images.images_processing.segmentation_sep"><code class="xref py py-func docutils literal notranslate"><span class="pre">segmentation_sep()</span></code></a>.
This input argument is required if the galaxy’s region is to be defined based
on the segmentation maps obtained with SEP.</li>
<li><strong>use_ellipse</strong> – Alternative of defining galaxy’s region using elliptical aperture centered at the target galaxy.
Set use_ellipse=True if you want to use this option.</li>
<li><strong>x_cent</strong> – x coordinate of the ellipse center. If x_cent=None, the ellipse center is assumed
to be the same as the image center.</li>
<li><strong>y_cent</strong> – y coordinate of the ellipse center. If y_cent=None, the ellipse center is assumed
to be the same as the image center.</li>
<li><strong>ell</strong> – Ellipticity of the elliptical aperture.</li>
<li><strong>pa</strong> – Position angle of the elliptical aperture.</li>
<li><strong>radius_sma</strong> – Radal distance along the semi-major axis of the elliptical aperture. This radius is in pixel unit.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns gal_region:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">Output galaxy’s region of interest.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="piXedfit.piXedfit_images.images_processing.reduced_stamps">
<code class="descname">reduced_stamps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.images_processing.reduced_stamps" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the image processing that includes PSF matching, spatial resampling and reprojection, and cropping around the target galaxy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Returns output_stamps:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Dictionary containing name of postage stamps of reduced multiband images.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="piXedfit.piXedfit_images.images_processing.segmentation_sep">
<code class="descname">segmentation_sep</code><span class="sig-paren">(</span><em>output_stamps</em>, <em>thresh=1.5</em>, <em>minarea=30</em>, <em>deblend_nthresh=32</em>, <em>deblend_cont=0.005</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.images_processing.segmentation_sep" title="Permalink to this definition">¶</a></dt>
<dd><p>Get segmentation maps of a galaxy in multiple bands using the SEP (a Python version of the SExtractor).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output_stamps</strong> – Stamp images output of image processing using the <a class="reference internal" href="#piXedfit.piXedfit_images.images_processing.reduced_stamps" title="piXedfit.piXedfit_images.images_processing.reduced_stamps"><code class="xref py py-func docutils literal notranslate"><span class="pre">reduced_stamps()</span></code></a>.</li>
<li><strong>thresh</strong> – Detection threshold for the source detection and segmentation.</li>
<li><strong>minarea</strong> – Minimum number of pixels (above threshold) required for an object to be detected.</li>
<li><strong>deblend_nthresh</strong> – Number of deblending sub-thresholds. Default is 32.</li>
<li><strong>deblend_cont</strong> – Minimum contrast ratio used for object deblending. Default is 0.005. To entirely disable deblending, set to 1.0.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns segm_maps:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">Output segmentation maps.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="piXedfit.piXedfit_images.kpc_per_pixel">
<code class="descclassname">piXedfit.piXedfit_images.</code><code class="descname">kpc_per_pixel</code><span class="sig-paren">(</span><em>z</em>, <em>arcsec_per_pix</em>, <em>cosmo='flat_LCDM'</em>, <em>H0=70.0</em>, <em>Om0=0.3</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.kpc_per_pixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for calculating a physical scale (in kpc) corresponding to a single pixel in an image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>z</strong> – Redshift of the galaxy.</li>
<li><strong>arsec_per_pix</strong> – Pixel size in arcsecond.</li>
<li><strong>cosmo</strong> – Choices for the cosmology. The options are: (a)’flat_LCDM’ or 0, (b)’WMAP5’ or 1, (c)’WMAP7’ or 2, (d)’WMAP9’ or 3, (e)’Planck13’ or 4, (f)’Planck15’ or 5, (g)’Planck18’ or 6.
These are similar to the choices available in the <a class="reference external" href="https://docs.astropy.org/en/stable/cosmology/#built-in-cosmologies">Astropy Cosmology</a> package.</li>
<li><strong>H0</strong> – The Hubble constant at z=0. Only relevant if cosmo=’flat_LCDM’.</li>
<li><strong>Om0</strong> – The Omega matter at z=0.0. Only relevant if cosmo=’flat_LCDM’.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns kpc_per_pix:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">Output physical scale in kpc.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="piXedfit.piXedfit_images.var_img_from_unc_img">
<code class="descclassname">piXedfit.piXedfit_images.</code><code class="descname">var_img_from_unc_img</code><span class="sig-paren">(</span><em>unc_image</em>, <em>name_out_fits=None</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_from_unc_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for constructing a variance image from an input of uncertainty image.
This function simply takes square of the uncertainty image and store it into a new FITS file while retaining the header information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>unc_img</strong> – Input uncertainty image.</li>
<li><strong>name_out_fits</strong> – (optional, default: None)
Name of output FITS file. If None, a generic name will be generated.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="piXedfit.piXedfit_images.var_img_from_weight_img">
<code class="descclassname">piXedfit.piXedfit_images.</code><code class="descname">var_img_from_weight_img</code><span class="sig-paren">(</span><em>wht_image</em>, <em>name_out_fits=None</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_from_weight_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for constructing a variance image from an input weight (i.e., inverse variance) image.
This funciton simply takes inverse of the weight image and store it into a new FITS file while
retaining the header information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wht_image</strong> – Input of weight image (i.e., inverse variance).</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns name_out_fits:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">(optional, default: None)
Name of output FITS file. If None, a generic name will be made.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="piXedfit.piXedfit_images.var_img_sdss">
<code class="descclassname">piXedfit.piXedfit_images.</code><code class="descname">var_img_sdss</code><span class="sig-paren">(</span><em>fits_image</em>, <em>filter_name</em>, <em>name_out_fits=None</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_sdss" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for constructing a variance image from an input SDSS image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fits_image</strong> – Input SDSS image (corrected frame type).</li>
<li><strong>filter_name</strong> – A string of filter name. Options are: ‘sdss_u’, ‘sdss_g’, ‘sdss_r’, ‘sdss_i’, and ‘sdss_z’.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns name_out_fits:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">Name of output FITS file. If None, a generic name will be used.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="piXedfit.piXedfit_images.var_img_GALEX">
<code class="descclassname">piXedfit.piXedfit_images.</code><code class="descname">var_img_GALEX</code><span class="sig-paren">(</span><em>sci_img</em>, <em>skybg_img</em>, <em>filter_name</em>, <em>name_out_fits=None</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_GALEX" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for calculating variance image from an input GALEX image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sci_img</strong> – Input GALEX science image (i.e., background subtracted).
This type of image is provided in the GALEX website as indicated with “-intbgsub” (i.e., background subtracted intensity map).</li>
<li><strong>skybg_img</strong> – Input sky background image .</li>
<li><strong>filter_name</strong> – A string of filter name. Options are: ‘galex_fuv’ and ‘galex_nuv’.</li>
<li><strong>name_out_fits</strong> – Desired name for the output variance image. If None, a generic name will be used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="piXedfit.piXedfit_images.var_img_2MASS">
<code class="descclassname">piXedfit.piXedfit_images.</code><code class="descname">var_img_2MASS</code><span class="sig-paren">(</span><em>sci_img</em>, <em>skyrms_img=None</em>, <em>skyrms_value=None</em>, <em>name_out_fits=None</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_2MASS" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for constructing a variance image from an input 2MASS image.
The estimation of flux uncertainty follows the information provided on the <a class="reference external" href="http://wise2.ipac.caltech.edu/staff/jarrett/2mass/3chan/noise/#coadd">2MASS website</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sci_img</strong> – Input background-subtracted science image.</li>
<li><strong>skyrms_img</strong> – FITS file of the RMS background image. If skyrms_value=None, this parameter should be provided.
The background subtraction and calculation of RMS image can be performed using the <a class="reference internal" href="#piXedfit.piXedfit_images.subtract_background" title="piXedfit.piXedfit_images.subtract_background"><code class="xref py py-func docutils literal notranslate"><span class="pre">subtract_background()</span></code></a> function.</li>
<li><strong>skyrms_value</strong> – Scalar value of median or mean of the RMS background image. This input will be considered when skyrms_img=None.</li>
<li><strong>name_out_fits</strong> – Desired name for the output FITS file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="piXedfit.piXedfit_images.var_img_WISE">
<code class="descclassname">piXedfit.piXedfit_images.</code><code class="descname">var_img_WISE</code><span class="sig-paren">(</span><em>sci_img</em>, <em>unc_img</em>, <em>filter_name</em>, <em>skyrms_img</em>, <em>name_out_fits=None</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_WISE" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for constructing variance image from an input WISE image.
The uncertainty estimation follows the information from the <a class="reference external" href="http://wise2.ipac.caltech.edu/docs/release/allsky/expsup/sec2_3f.html">WISE website</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sci_img</strong> – Input background-subtracted science image.</li>
<li><strong>unc_img</strong> – Input uncertainty image. This type of WISE image is provided in the
<a class="reference external" href="https://irsa.ipac.caltech.edu/applications/wise/">IRSA website</a> and indicated with ‘-unc-‘ keyword.</li>
<li><strong>filter_name</strong> – The filter name. Options are: ‘wise_w1’, ‘wise_w2’, ‘wise_w3’, and ‘wise_w4’</li>
<li><strong>skyrms_img</strong> – Input RMS background image. This image is produced in the background subtraction with the <a class="reference internal" href="#piXedfit.piXedfit_images.subtract_background" title="piXedfit.piXedfit_images.subtract_background"><code class="xref py py-func docutils literal notranslate"><span class="pre">subtract_background()</span></code></a> function.</li>
<li><strong>name_out_fits</strong> – (optional, default: None)
Desired name for the output FITS file. If None, a generic name will be made.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="piXedfit.piXedfit_images.subtract_background">
<code class="descclassname">piXedfit.piXedfit_images.</code><code class="descname">subtract_background</code><span class="sig-paren">(</span><em>fits_image</em>, <em>hdu_idx=0</em>, <em>sigma=3.0</em>, <em>box_size=None</em>, <em>mask_region=None</em>, <em>mask_sources=True</em>, <em>var_image=None</em>, <em>thresh=1.5</em>, <em>minarea=5</em>, <em>deblend_nthresh=32</em>, <em>deblend_cont=0.005</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.subtract_background" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for estimating 2D background and subtracting it from the input image. This function also produce RMS image.
This function adopts the Background2D function from the photutils package. To estimate 2D background,
the input image is gridded and sigma clipping is done to each bin (grid). Then 2D interpolation is performed to construct the 2D background image.
A more information can be seen at <a class="reference external" href="https://photutils.readthedocs.io/en/stable/api/photutils.background.Background2D.html#photutils.background.Background2D">photutils</a> website.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fits_image</strong> – Input image.</li>
<li><strong>hdu_idx</strong> – The extension (HDU) where the image is stored. Default is 0 (HDU0).</li>
<li><strong>sigma</strong> – Sigma clipping threshold value.</li>
<li><strong>box_size</strong> – The box size for the image gridding. The format is: [ny, nx]. If None, both axes will be divided into 10 grids.</li>
<li><strong>mask_region</strong> – Region within the image that are going to be excluded.
mask_region should be 2D array with the same size as the input image.</li>
<li><strong>mask_sources</strong> – If True, source detection and segmentation will be performed with SEP (Pyhton version of SExtractor)
and the regions associated with the detected sources will be excluded. This help reducing contamination by astronomical sources.</li>
<li><strong>var_image</strong> – Variance image (in FITS file format) to be used in the sources detection process. This input argument is only relevant if mask_sources=True.</li>
<li><strong>thresh</strong> – Detection threshold for the sources detection. If variance image is supplied, the threshold value for a given pixel is
interpreted as a multiplicative factor of the uncertainty (i.e. square root of the variance) on that pixel.
If var_image=None, the threshold is taken to be 2.5 percentile of the pixel values in the image.</li>
<li><strong>minarea</strong> – Minimum number of pixels above threshold triggering detection.</li>
<li><strong>deblend_nthresh</strong> – Number of thresholds used for object deblending.</li>
<li><strong>deblend_cont</strong> – Minimum contrast ratio used for object deblending. To entirely disable deblending, set to 1.0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="piXedfit.piXedfit_images.crop_stars_galregion_fits">
<code class="descclassname">piXedfit.piXedfit_images.</code><code class="descname">crop_stars_galregion_fits</code><span class="sig-paren">(</span><em>input_fits</em>, <em>x_cent</em>, <em>y_cent</em>, <em>radius</em>, <em>name_out_fits=None</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.crop_stars_galregion_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for cropping foreground stars within a galaxy’s region of interst.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input_fits</strong> – The input FITS file containing the data cube that is produced using the <code class="xref py py-func docutils literal notranslate"><span class="pre">flux_map()</span></code> funciton in the <a class="reference internal" href="#piXedfit.piXedfit_images.images_processing" title="piXedfit.piXedfit_images.images_processing"><code class="xref py py-class docutils literal notranslate"><span class="pre">images_processing</span></code></a> class.</li>
<li><strong>x_cent</strong> – 1D array of x coordinates of the center of the stars.</li>
<li><strong>y_cent</strong> – 1D array of y coordinates of the center of the stars.</li>
<li><strong>radius</strong> – 1D array of the estimated circular radii of the stars.</li>
<li><strong>name_out_fits</strong> – Desired name for the output FITS file. If None, a generic name will be made.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="piXedfit.piXedfit_images.EBV_foreground_dust">
<code class="descclassname">piXedfit.piXedfit_images.</code><code class="descname">EBV_foreground_dust</code><span class="sig-paren">(</span><em>ra</em>, <em>dec</em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.EBV_foreground_dust" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for estimating E(B-V) dust attenuation due to the foreground Galactic dust attenuation at a given coordinate on the sky.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ra</strong> – Right ascension coordinate in degree.</li>
<li><strong>dec</strong> – Declination coordinate in degree.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns ebv:</th><td class="field-body"><p class="first last">E(B-V) value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="piXedfit_spectrophotometric.html" class="btn btn-neutral float-right" title="piXedfit_spectrophotometric" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="demos_sed_fitting.html" class="btn btn-neutral float-left" title="SED fitting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Abdurro&#39;uf

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>